(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const f="https://63ee0ec0388920150dd83e3c.mockapi.io/teams";function p(){return fetch(f).then(t=>{if(!t.ok)throw new Error(`Failed to fetch: ${t.status} ${t.statusText}`);return t.json()})}let b=[];function h(t){const s=document.createElement("div");s.classList.add("table__form-container");for(const n of t){const l=document.createElement("div");switch(l.classList.add("table__form-icon"),n){case"W":l.classList.add("table__form-icon--win");break;case"D":l.classList.add("table__form-icon--draw");break;case"L":l.classList.add("table__form-icon--lose");break;default:continue}s.appendChild(l)}return s}function C(t,s){const n=document.createElement("tr");n.classList.add("table__row","table__row--body");const l=document.createElement("td");l.classList.add("table__cell","table__cell--position"),s<2&&(l.classList.add("table__cell--first-positions","tooltip"),l.dataset.tooltip="Лига чемпионов"),s===2&&(l.classList.add("table__cell--third-position","tooltip"),l.dataset.tooltip="Другая лига"),l.textContent=(s+1).toString(),n.appendChild(l);const e=document.createElement("td");e.classList.add("table__cell","table__cell--logo");const o=document.createElement("div");o.classList.add("table__icon"),o.style.backgroundImage=`url(${t.logo})`,e.appendChild(o),n.appendChild(e);const a=document.createElement("td");a.classList.add("table__cell","table__cell--name"),a.textContent=t.name,n.appendChild(a);const i=document.createElement("td");i.classList.add("table__cell","table__cell--games"),i.textContent=t.games.toString(),n.appendChild(i);const c=document.createElement("td");c.classList.add("table__cell","table__cell--wins"),c.textContent=t.wins.toString(),n.appendChild(c);const r=document.createElement("td");r.classList.add("table__cell","table__cell--draws"),r.textContent=t.draws.toString(),n.appendChild(r);const d=document.createElement("td");d.classList.add("table__cell","table__cell--loses"),d.textContent=t.loses.toString(),n.appendChild(d);const _=document.createElement("td");_.classList.add("table__cell","table__cell--scored"),_.textContent=`${t.scored} - ${t.conceded}`,n.appendChild(_);const m=document.createElement("td");m.classList.add("table__cell","table__cell--form","table__cell--desktop"),m.appendChild(h(t.form)),n.appendChild(m);const u=document.createElement("td");return u.classList.add("table__cell","table__cell--points"),u.textContent=String(t.points),n.appendChild(u),n}function L(t=["A","B","C"]){const s=document.querySelector(".main__tables-container.guests");s&&t.forEach(n=>{const l=b.filter(a=>a.group===n),e=s.querySelector(`.main__table.Group${n}`),o=e==null?void 0:e.querySelector("tbody");o&&l.sort((a,i)=>i.points-a.points).forEach((a,i)=>{const c=C(a,i);o.appendChild(c)})})}document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".main__tables-link"),s=document.querySelectorAll(".main__tables-item"),n=document.querySelectorAll(".main__tables-container");t.forEach((l,e)=>{l.addEventListener("click",async o=>{o.preventDefault();const a=l.dataset.tab;if(l.classList.contains("main__tables-link--active"))return;s.forEach(c=>c.classList.remove("main__tables-item--active")),t.forEach(c=>c.classList.remove("main__tables-link--active")),n.forEach(c=>c.classList.remove("main__tables-container--active")),s[e].classList.add("main__tables-item--active"),l.classList.add("main__tables-link--active");const i=document.querySelector(`.main__tables-container.${a}`);if(i){const c=i.querySelectorAll("tbody"),r=Array.from(c).every(d=>d.children.length===0);a==="guests"&&r&&(b=await p(),L()),i.classList.add("main__tables-container--active")}})})});
